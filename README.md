# Stock Analysis Tool

各アセット（米国株、債券、金、原油）の年別・月別騰落率を分析・可視化するツール

## 概要

このツールは、複数の資産クラスの投資パフォーマンスを分析し、以下の情報を提供します：

- 年別リターン（騰落率）
- 月別リターン
- 統計サマリー（平均、標準偏差、最大/最小リターンなど）
- 複数の可視化（ヒートマップ、折れ線グラフ、棒グラフ）

## 分析対象アセット

- **SPY**: S&P500 ETF（米国株式）
- **TLT**: 米国長期国債 ETF
- **GLD**: 金 ETF
- **USO**: 原油 ETF

## 必要な環境

- Python 3.9+ (デモ版の場合)
- Python 3.10+ (実データ版の場合)

## インストール

```bash
# リポジトリをクローン
cd stock_analysis

# 必要なライブラリをインストール
pip install -r requirements.txt
```

## 使い方

### デモ版（サンプルデータ）

Python 3.9でも動作します：

```bash
python3 analyze_assets_demo.py
```

### 実データ版

Python 3.10+が必要です：

```bash
python3 analyze_assets.py
```

## 出力ファイル

以下のグラフが生成されます：

1. **asset_returns_table.png** - 年別リターンの表（色分け）
2. **asset_heatmap.png** - 年別リターンのヒートマップ
3. **cumulative_returns.png** - 累積リターンの推移（折れ線グラフ）
4. **annual_returns_bar.png** - 年別リターンの棒グラフ
5. **monthly_returns_[TICKER].png** - 各アセットの月別リターンヒートマップ

## 出力例

### ヒートマップ
年別リターンを色で視覚化：
- 緑系：プラスリターン
- 赤系：マイナスリターン

### 累積リターングラフ
各アセットの長期パフォーマンスを比較（対数スケール）

### 統計サマリー
コンソールに以下の情報を表示：
- 平均年次リターン
- 標準偏差（ボラティリティ）
- 最高/最低リターンとその年
- プラスリターンの年の割合

## 注意事項

- **デモ版**は乱数で生成したサンプルデータを使用しています
- **実データ版**を使用するには Python 3.10+ が必要です（yfinanceライブラリの制約）
- データはYahoo Financeから取得します（実データ版の場合）

## ライセンス

MIT License

## 今後の拡張予定

- [ ] より多くのアセットクラスのサポート
- [ ] カスタムティッカーシンボルの指定
- [ ] 日本円換算機能
- [ ] ポートフォリオ最適化機能
- [ ] リスク指標の追加（シャープレシオなど）
